package test;

import evolutionaryagent.evolution.agent.teseo.InterpreterTeseoAgentProgram;
import evolutionaryagent.evolution.agent.teseo.interpreter.BitArrayTeseoInterpreterManager;
import evolutionaryagent.evolution.agent.teseo.interpreter.TeseoInterpreter;
import unalcol.agents.Agent;
import unalcol.agents.examples.labyrinth.Labyrinth;
import unalcol.agents.examples.labyrinth.LabyrinthDrawer;
import unalcol.agents.examples.labyrinth.teseo.TeseoMainFrame;
import unalcol.agents.simulate.util.SimpleLanguage;
import unalcol.types.collection.bitarray.BitArray;

public class InitialPositionTester {
	
	private static SimpleLanguage getLanguage(){
	    return  new SimpleLanguage( new String[]{"front", "right", "back", "left", "exit",
	        "afront", "aright", "aback", "aleft"},
	    		new String[]{"no_op", "die", "advance", "rotate"});
	}
	
	public static void main( String[] argv ){
	    BitArray instructions = new BitArray("11001010011111010101000100111110101011110110010010011111010011111100100001011111111010101111011001001001111101001111110010000101111011111111010010001001010011111100100001011110111111110100100010010111100001000101110010001111111010100010100111111111110101101111111001101110100001111111101001111101111101111010101111011001001001111101010100010011111010101111011001010011111111111011001000010100001101001111010011111111010010001001011111111001010101010010111110100000111000101010111110010100111111110111010101000100111110101011110110010100111111111010011111010011111100100001011110111111110100100010010100111111001000010111101111111101001000100101111000010001011100100011111110101000101001111111111101011011111110011011101000011111111010011111011111011111100100101111010100001011111111101101010101011110100100010010111100001000101110010001111111010100010100111111111110101101111111001101110100001111111101001111101111101111010101111011001001001111101010100010011111010101111011001010011111111111011101000010100001101001111010011111111010010001001011111111001010101010010111110100000111000101010111110010100111111110111010101000100111110101011110110010100111111111110111010001111100101111111111011011001111110000111010101110000111111111010000101010001000100101001111110010000101111011111111010010001001011110000100010111001000111111101010001010011111111111010010011111011111011111111111111010100011111111111000100101111000011111100010011111000100111110101011110110111111000011101111111101001000100101111111100101111001011000010100101011111111101111000001011111010010000010101111111110100101010001001111101010111101100101101111001011000010100011011101111111111100101000011010011110100111111110100100010010111111110010101010100101111101000001110001010101111100101001111100011111111100010");

	    System.out.println(instructions.size());
	    InterpreterTeseoAgentProgram program
	                = new InterpreterTeseoAgentProgram(
	                		new BitArrayTeseoInterpreterManager(
	                				new TeseoInterpreter(instructions)));

	    program.setLanguage(getLanguage());
	    program.init();
	    LabyrinthDrawer.DRAW_AREA_SIZE = 600;
	    LabyrinthDrawer.CELL_SIZE = 40;
	    Labyrinth.DEFAULT_SIZE = 16;
	    Agent agent = new Agent( program );
	    TeseoMainFrame frame = new TeseoMainFrame( agent, getLanguage() );
	    frame.setVisible(true);
	  }
	
}
